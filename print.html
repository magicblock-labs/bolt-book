<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>The Bolt Book v0.1.0</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="introduction/introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="introduction/what_is_bolt.html"><strong aria-hidden="true">1.1.</strong> What is Bolt</a></li><li class="chapter-item expanded "><a href="introduction/ecs.html"><strong aria-hidden="true">1.2.</strong> Entity, Component and Systems (ECS)</a></li><li class="chapter-item expanded "><a href="introduction/ephemeral-rollups.html"><strong aria-hidden="true">1.3.</strong> Ephemeral Rollups</a></li><li class="chapter-item expanded "><a href="introduction/mapping-and-state-listening.html"><strong aria-hidden="true">1.4.</strong> Mapping and State listening</a></li></ol></li><li class="chapter-item expanded "><a href="prerequisites/prerequisites.html"><strong aria-hidden="true">2.</strong> Prerequisites</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="prerequisites/useful_resources.html"><strong aria-hidden="true">2.1.</strong> Useful Resources</a></li></ol></li><li class="chapter-item expanded "><a href="getting_started/getting_started.html"><strong aria-hidden="true">3.</strong> Getting Started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="getting_started/installation.html"><strong aria-hidden="true">3.1.</strong> Installation</a></li><li class="chapter-item expanded "><a href="getting_started/hello_bolt.html"><strong aria-hidden="true">3.2.</strong> Hello, Bolt!</a></li><li class="chapter-item expanded "><a href="getting_started/create_component.html"><strong aria-hidden="true">3.3.</strong> Create a Component</a></li><li class="chapter-item expanded "><a href="getting_started/create_system.html"><strong aria-hidden="true">3.4.</strong> Create a System</a></li><li class="chapter-item expanded "><a href="getting_started/world_program.html"><strong aria-hidden="true">3.5.</strong> World Program</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Bolt Book v0.1.0</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>Welcome to The Bolt Book! âš¡</p>
<blockquote>
<p>Bolt is an <a href="https://github.com/magicblock-labs/bolt">open-source project</a>, currently in its early development phase, and warmly welcomes contributors. For additional resources, join the community on <a href="https://discord.com/invite/MBkdC3gxcv">Discord</a>.</p>
</blockquote>
<p>This chapter covers what bolt is, how its documentation is structured, and what you should know to have a good time with this guide.</p>
<p>If you find errors or something doesn't work, please report it <a href="https://github.com/magicblock-labs/bolt-book/issues">here</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="what-is-bolt"><a class="header" href="#what-is-bolt">What is Bolt</a></h1>
<p>Bolt is a <strong>high-performance</strong>, <strong>scalable</strong> SVM-based framework designed for Fully On Chain (FOC) Games and Autonomous Worlds.</p>
<p>With Bolt, you can create games that live forever on the blockchain. These games are <strong>platform-centric</strong> by default, empowering users to extend and modify both game content and logic. Bolt facilitates multiplayer gaming experiences with performances on pair with traditional multiplayer servers.</p>
<p>Furthermore, the framework incorporates an Entity Component System (<strong>ECS</strong>) architecture, streamlining the game structuring and assembly process and providing ready-to-use components. Developers can reuse and contribute modules and logic deployed on the blockchain.</p>
<p>All these features collectively reduce the intricacy of crafting fully on-chain games, enabling developers to focus more on the game's essence.</p>
<h3 id="explainer"><a class="header" href="#explainer">Explainer</a></h3>
<p>Here's a video of <a href="https://www.magicblock.gg/">Magibclock</a>'s  co-founders explaining how BOLT works at the 2023 <a href="https://solana.com/breakpoint">Breakpoint Conference</a>:</p>
<video controls poster="https://shdw-drive.genesysgo.net/4PMP1MG5vYGkT7gnAMb7E5kqPLLjjDzTiAaZ3xRx5Czd/bolt_presentation_cover.jpg">
  <source src="https://shdw-drive.genesysgo.net/4PMP1MG5vYGkT7gnAMb7E5kqPLLjjDzTiAaZ3xRx5Czd/bolt_presentation_cover.mp4" type="video/mp4">
  Your browser does not support the video tag.
</video><div style="break-before: page; page-break-before: always;"></div><h1 id="entity-component-and-systems-ecs"><a class="header" href="#entity-component-and-systems-ecs">Entity, Component and Systems (ECS)</a></h1>
<p>The framework includes a standardized way to model the game logic, using the <strong>ECS</strong> (Entity, Components and Systems), which is commonly used in the gaming industry and also adopted in most on-chain engines.</p>
<p>This pattern decouples logic from state, enabling optimizations in terms of performance and scalability. Additionally, its modular nature facilitates code reusability and extensibility, which are two essential properties for fully on-chain games and autonomous worlds.</p>
<p>The Solana Virtual Machine makes use of a paradigm similar to an ECS. The state (the accounts) and the logic (the programs) are natively separated.</p>
<p>When we compare it to Solana's architecture, it becomes evident how easily the ECS can be implemented:</p>
<ul>
<li><strong>Entities</strong>: An entity is a general-purpose object typically represented by a unique identifier.
It doesn't directly contain any data or behaviour but serves as an identifier for a collection of components. Entities can be registered in a world instance account on Solana and could themselves be accounts.</li>
<li><strong>Components</strong>: Raw data structure that represents some aspect or attribute of an entity. For instance, a PositionComponent might just contain x, y, and z coordinates. This is concept is essentially equivalent to accounts on Solana.</li>
<li><strong>Systems</strong>: Performs the game logic or behaviour by acting upon entities that have specific components. Systems are essentialy programs on Solana, which only specify the logic and the accounts they operate on.</li>
</ul>
<p>Solana's Program Derived Addresses (<a href="https://www.anchor-lang.com/docs/pdas">PDAs</a>) facilitate the efficient storage and retrieval of entities, components and system mimicking a hash table-like structure. </p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ephemeral-rollups"><a class="header" href="#ephemeral-rollups">Ephemeral Rollups</a></h1>
<p>The core intuition is that by harnessing the SVM's account structure and its capacity for parallelization, we can split the app/game state into clusters. Users can lock one or multiple accounts to temporarily transfer the state to an auxiliary layer,  which we define as the &quot;ephemeral rollup&quot;, a configurable dedicated runtime. </p>
<p>This process temporarily entrusts the sequencer to modify the accounts in the ephemeral rollup, where the state can be forcefully reverted and unlocked on the L1 if constraints are not satisfied (read the <a href="https://arxiv.org/abs/2311.02650">whitepaper</a> for more details). Despite this delegation, operations and transactions can still use the delegate accounts as readable on the base layer. Non-delegated accounts remain unaffected and modifiable. </p>
<p>The ephemeral rollup operates as a specialized SVM runtime to facilitate transaction processing at an elevated throughput. Additionally, this specialized runtime can be customized to include configurations like gasless transactions, quicker block-time, and the inclusion of a ticking mechanism (i.e., an integrated transaction scheduling system like <a href="https://github.com/clockwork-xyz/clockwork">clockwork</a>) operated without fees). The entire process is transparent to the end user - a specialized RPC provider can route the transactions to the base layer and the ephemeral rollup(s) in parallel during the game session.</p>
<h2 id="white-paper"><a class="header" href="#white-paper">White Paper</a></h2>
<p><img src="introduction/../images/bolt-arch.jpg" alt="Ephemeral Rollups" /></p>
<p>Bolt white paper describes in details the architecture and the scalability solution. We recommend reading the basic concepts of ephemeral rollups in section 2.2 of the <a href="https://arxiv.org/abs/2311.02650">Bolt Whitepaper</a></p>
<h2 id="avoiding-fragmentation-and-benefits"><a class="header" href="#avoiding-fragmentation-and-benefits">Avoiding Fragmentation and Benefits</a></h2>
<p>The benefit of ER is that programs and assets reside directly on the base layer. Transactions can be accelerated through ERs, which are fully compatible with the Solana Virtual Machine (SVM) down to the bytecode level. Any improvements or advancements at the base layer are immediately available, without the need to modify or re-deploy programs. </p>
<p>Ephemeral Rollups has the following benefits:</p>
<ul>
<li>
<p>Developers <strong>deploy programs to the base layer</strong> (e.g., Solana),  rather than on a separate chain as it would normally happen with rollups. Programs live on the base layer and can interact with any existing protocol and assets. ERs don't fragment the existing ecosystem and allow the speed-up of targeted operations without creating an isolated environment.</p>
</li>
<li>
<p>Users, developers and programs using ERs can take advantage of <strong>Solana's infrastructure</strong>. This includes programming languages, code libraries, testing tools, client software, deployment infrastructure etc.</p>
</li>
<li>
<p>The <strong>specialized runtime</strong> can accommodate game-specific customizations (e.g., ticking or passive events, typical in games, as opposed to the event-driven runtime of blockchains) without the need to pay gas for fees on those specific accounts. </p>
</li>
<li>
<p>This approach enables a <strong>highly scalable system</strong> capable of launching rollups on-demand, <strong>auto-scaling</strong> horizontally to accommodate users performing millions of transactions without the tradeoffs of traditional L2s.</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mapping-and-state-listening"><a class="header" href="#mapping-and-state-listening">Mapping and State listening</a></h1>
<p>The standardized <strong>ECS</strong> pattern allows for easy integration of game components with a rendering engine to display the game interface. Bolt can be viewed as an open and permissionless alternative to a backend intended as a multiplayer game server. </p>
<p>For visualization and rendering, existing engines such as <a href="https://unity.com/">Unity</a>, <a href="https://www.unrealengine.com">Unreal Engine</a>, <a href="https://phaser.io/">Phaser</a>, and others can be used. </p>
<p>The standardized structure of the components allows for automatic mapping of components and entity properties (abstracting serialization and deserialization. State updates can be easily performed and intercepted, providing a mechanism similar to the <a href="https://en.wikipedia.org/wiki/Observer_pattern">Observer pattern</a> to listen to state changes and update the rendering.</p>
<p>If you are building with Unity, the <a href="https://github.com/magicblock-labs/Solana.Unity-SDK">Solana.Unity-SDK</a> gives you all the necessary tools to connect the gaming interface with Bolt. </p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="prerequisites"><a class="header" href="#prerequisites">Prerequisites</a></h1>
<p>This chapter provides you with the necessary background knowledge to get started with bolt.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="useful-resources"><a class="header" href="#useful-resources">Useful Resources</a></h1>
<h2 id="rust"><a class="header" href="#rust">Rust</a></h2>
<p>This guide assumes that you already have some knowledge of basic Rust. We recommend reading chapters 1-9 of the <a href="https://doc.rust-lang.org/book/title-page.html">Rust book</a> which cover the basics of using Rust (Most of the time you don't need advanced Rust to write anchor programs).</p>
<h2 id="solana"><a class="header" href="#solana">Solana</a></h2>
<p>This guide assumes that you already have some knowledge of basic Rust. We recommend reading the basic concepts from the <a href="https://book.anchor-lang.com/prerequisites/intro_to_solana.html">Anchor book</a></p>
<h2 id="anchor"><a class="header" href="#anchor">Anchor</a></h2>
<p>Bolt is built on top of Anchor, therefore having a general knowledge of Anchor will give you the necessary tool to build the game logic. We recommend reading chapters 1-4 of the <a href="https://book.anchor-lang.com/">Anchor book</a></p>
<h2 id="bolt-white-paper"><a class="header" href="#bolt-white-paper">Bolt White Paper</a></h2>
<p>Bolt white paper describes in details the architecture and the scalability solution. We recommend reading the basic concepts of ephemeral rollups in section 2.2 of the <a href="https://arxiv.org/abs/2311.02650">Bolt Whitepaper</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h1>
<p>This chapter walks you through the installation process and the folder structure of an anchor workspace.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installation"><a class="header" href="#installation">Installation</a></h1>
<h2 id="rust-1"><a class="header" href="#rust-1">Rust</a></h2>
<p>Go <a href="https://www.rust-lang.org/tools/install">here</a> to install Rust.</p>
<h2 id="solana-1"><a class="header" href="#solana-1">Solana</a></h2>
<p>Go <a href="https://docs.solana.com/cli/install-solana-cli-tools">here</a> to install Solana and then run <code>solana-keygen new</code> to create a keypair at the default location. Anchor uses this keypair to run your program tests.</p>
<h2 id="yarn"><a class="header" href="#yarn">Yarn</a></h2>
<p>Go <a href="https://yarnpkg.com/getting-started/install">here</a> to install Yarn.</p>
<h2 id="bolt"><a class="header" href="#bolt">Bolt</a></h2>
<h3 id="installing-bolt"><a class="header" href="#installing-bolt">Installing Bolt</a></h3>
<h4 id="install-bolt-using-npm-or-yarn"><a class="header" href="#install-bolt-using-npm-or-yarn">Install <code>Bolt</code> using npm or yarn.</a></h4>
<p>With npm:</p>
<pre><code class="language-bash">npm install -g @magicblock-labs/bolt-cli
</code></pre>
<p>With yarn:</p>
<pre><code class="language-bash">yarn global add @magicblock-labs/bolt-cli
</code></pre>
<h4 id="install-bolt-using-cargo"><a class="header" href="#install-bolt-using-cargo">Install <code>Bolt</code> using Cargo.</a></h4>
<pre><code>cargo install --git https://github.com/magicblock-labs/bolt  --locked --force
</code></pre>
<p>On Linux systems you may need to install additional dependencies if cargo install fails. E.g. on Ubuntu:</p>
<pre><code>sudo apt-get update &amp;&amp; sudo apt-get upgrade &amp;&amp; sudo apt-get install -y pkg-config build-essential libudev-dev
</code></pre>
<p>Verify the installation.</p>
<pre><code>bolt -h
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="hello-bolt"><a class="header" href="#hello-bolt">Hello, Bolt!</a></h1>
<p>To initialize a new project, simply run:</p>
<pre><code>bolt init &lt;new-workspace-name&gt;
</code></pre>
<p>This creates a new bolt workspace you can move into. The following are some of the important files in the folder:</p>
<ul>
<li>The <code>.anchor</code> folder: It includes the most recent program logs and a local ledger that is used for testing</li>
<li>The <code>app</code> folder: An empty folder that you can use to hold your frontend if you use a monorepo</li>
<li>The <code>programs</code> folder: This folder contains your programs. It can contain multiple but initially only contains a program with the same name as <code>&lt;new-workspace-name&gt;</code>. This program already contains a <code>lib.rs</code> file with some sample code.</li>
<li>The <code>tests</code> folder: The folder that contains your E2E tests. It will already include a file that tests the sample code in the <code>programs/&lt;new-workspace-name&gt;</code>.</li>
<li>The <code>migrations</code> folder: In this folder you can save your deploy and migration scripts for your programs.</li>
<li>The <code>Anchor.toml</code> file: This file configures workspace wide settings for your programs. Initially, it configures
<ul>
<li>The addresses of your programs on localnet (<code>[programs.localnet]</code>)</li>
<li>A registry your program can be pushed to (<code>[registry]</code>)</li>
<li>A provider which can be used in your tests (<code>[provider]</code>)</li>
<li>Scripts that Anchor executes for you (<code>[scripts]</code>). The <code>test</code> script is run when running <code>anchor test</code>. You can run your own scripts with <code>anchor run &lt;script_name&gt;</code>.</li>
</ul>
</li>
</ul>
<p>Run the example unit test with the following command:</p>
<pre><code>bolt test
</code></pre>
<p>This command will register a new World instance, create an entity, attach a component, and execute a system on it.
The test script is available as a reference under the <code>tests</code> folder.</p>
<h2 id="anchor-1"><a class="header" href="#anchor-1">Anchor</a></h2>
<p>Bolt is built on top of Anchor and supports all Anchor commands, in addition to some extensions. For the complete list of Anchor commands, refer to the <a href="https://book.anchor-lang.com/">Anchor book</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="create-a-component"><a class="header" href="#create-a-component">Create a Component</a></h1>
<p>Components are plain data structures (classes or structs) that contain data relevant to a specific aspect of an entity. They don't have any logic or methods. Examples of components could be a &quot;Position&quot; component containing x, y, z coordinates.</p>
<p>Create a Position component with</p>
<pre><code>bolt component position
</code></pre>
<p>which will add a new component to your workspace:</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use bolt_lang::*;

declare_id!(&quot;Fn1JzzEdyb55fsyduWS94mYHizGhJZuhvjX6DVvrmGbQ&quot;);

#[component]
#[derive(Copy)]
pub struct Position {
    pub x: i64,
    pub y: i64,
    pub z: i64,
}
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="create-a-system"><a class="header" href="#create-a-system">Create a System</a></h1>
<p>Systems contain the logic that processes and manipulates entities based on their components. A system will typically operate on all entities that have a specific set of components. For example, a &quot;Movement&quot; system might update the position of a &quot;Position&quot; component</p>
<p>Create a movement system with with</p>
<pre><code>bolt system system-movement
</code></pre>
<p>which will add a new system to your workspace:</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use bolt_lang::*;
use component_position::Position;

declare_id!(&quot;FSa6qoJXFBR3a7ThQkTAMrC15p6NkchPEjBdd4n6dXxA&quot;);

#[system]
#[program]
pub mod system_movement {

    pub fn execute(ctx: Context&lt;Components&gt;, args_p: Vec&lt;u8&gt;) -&gt; Result&lt;Components&gt; {

        let position = &amp;mut ctx.accounts.position;

        position.x += 1;
        position.y += 1;

        Ok(ctx.accounts)
    }

    // Define the input components
    #[system_input]
    pub struct Components {
        pub position: Position,
    }
}
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="world-program-overview"><a class="header" href="#world-program-overview">World Program Overview</a></h1>
<p>The World Program is the entrypoint for creating world instances, entities, attaching components, and executing systems within a unified framework.</p>
<h2 id="client-development"><a class="header" href="#client-development">Client Development</a></h2>
<p>Ongoing development efforts are focused on delivering multiple client SDKs and integrations. The <a href="https://explorer.solana.com/address/WorLD15A7CrDwLcLy4fRqtaTb9fbd8o8iqiEMUDse2n/anchor-program?cluster=devnet">World Program</a>, a standard Anchor program, expose its Interface Definition Language (IDL) published on-chain for seamless interaction.</p>
<h2 id="typescript-sdk-installation"><a class="header" href="#typescript-sdk-installation">TypeScript SDK Installation</a></h2>
<p>To install the Bolt SDK, execute the following command:</p>
<pre><code class="language-bash">npm install @magicblock-labs/bolt-sdk
</code></pre>
<ul>
<li>Initiating a project with bolt init automatically generates a simple usage example of the bolt-sdk.</li>
</ul>
<h3 id="creating-a-new-world-instance"><a class="header" href="#creating-a-new-world-instance">Creating a New World Instance</a></h3>
<p>Create a new world instance as demonstrated below:</p>
<pre><code class="language-ts">const registry = await Registry.fromAccountAddress(provider.connection, registryPda);
worldId = new anchor.BN(registry.worlds);
worldPda = FindWorldPda(new anchor.BN(worldId))
const initializeWorldIx = createInitializeNewWorldInstruction(
    {
        world: worldPda,
        registry: registryPda,
        payer: provider.wallet.publicKey,
    });

const tx = new anchor.web3.Transaction().add(initializeWorldIx);
const txSign = await provider.sendAndConfirm(tx);
</code></pre>
<h3 id="adding-a-new-entity"><a class="header" href="#adding-a-new-entity">Adding a New Entity</a></h3>
<p>To add a new entity:</p>
<pre><code class="language-ts">const world = await World.fromAccountAddress(provider.connection, worldPda);
const entityId = new anchor.BN(world.entities);
entityPda = FindEntityPda(worldId, entityId);

let createEntityIx = createAddEntityInstruction({
    world: worldPda,
    payer: provider.wallet.publicKey,
    entity: entityPda,
});
const tx = new anchor.web3.Transaction().add(createEntityIx);
await provider.sendAndConfirm(tx);
</code></pre>
<h3 id="attaching-components-to-an-entity"><a class="header" href="#attaching-components-to-an-entity">Attaching Components to an Entity</a></h3>
<p>For attaching components:</p>
<pre><code class="language-ts">const positionComponentPda = FindComponentPda(positionComponent.programId, entityPda, &quot;&quot;);
let initComponentIx = createInitializeComponentInstruction({
    payer: provider.wallet.publicKey,
    entity: entityPda,
    data: positionComponentPda,
    componentProgram: positionComponent.programId,
});
const tx = new anchor.web3.Transaction().add(initComponentIx);
await provider.sendAndConfirm(tx);
</code></pre>
<h3 id="applying-systems"><a class="header" href="#applying-systems">Applying Systems</a></h3>
<p>To apply a system:</p>
<pre><code class="language-ts">let applySystemIx = createApplyInstruction({
    componentProgram: positionComponent.programId,
    boltSystem: systemMovement.programId,
    boltComponent: positionComponentPda,
});
const tx = new anchor.web3.Transaction().add(applySystemIx);
await provider.sendAndConfirm(tx);
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
